<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div>
        <input id ="all" type="checkbox"> <!-- 전체선택 의미 checked all-->
        <button id ="btnAll">Delete</button>
    </div>

    <!-- ============================================================================= -->

    <div id="result1">
        <input type="checkbox" class="ck" data-del-num="result1">
        <span>mail title1</span>
    </div>

    <div id="result2">
        <input type="checkbox" class="ck" data-del-num="result2">
        <span>mail title2</span>
    </div>

    <div id="result3">
        <input type="checkbox" class="ck" data-del-num="result3">
        <span>mail title3</span>
    </div>

    <div id="result4">
        <input type="checkbox" class="ck" data-del-num="result4">
        <span>mail title4</span>
    </div>

    <div id="result5">
        <input type="checkbox" class="ck" data-del-num="result5">
        <span>mail title5</span>
    </div>

    <div id="result6">
        <input type="checkbox" class="ck" data-del-num="result6">
        <span>mail title6</span>
    </div>
    
    <script>
        // 체크올 누르면 전체 체크 or 해제
        // 체크 눌러진곳 delet 버튼 누르면 삭제하기

        // 1. 전체클릭 or 해제 부터 구현하기
        // 2. 각각의 클릭된곳 delete 버튼 누르면  요소 삭제 시키기 
        const all = document.getElementById("all");
        const btnAll = document.getElementById("btnAll"); // delete button
        const ck = document.getElementsByClassName("ck");
        const input = document.getElementById("in");

        
        //전체 클릭
        all.addEventListener("click", function(){
            if(all.checked) {
                for(let i=0; i<ck.length; i++) {
                    ck[i].checked = true;
                };
            }else {
                for(let i=0; i<ck.length; i++) {
                    ck[i].checked = false;
                };
            }; 
        });

        //각각의 클린된곳 요소삭제
        btnAll.addEventListener("click", function(){

            let ar = [];

            // checked가 되어있으면
            //요소 삭제를 하지않고 빈 배열에 id명들을 따로 보관한다.
            for(let i=0; i<ck.length; i++) {
                if(ck[i].checked) {
                    //document.getElementById(ck[i].getAttribute("data-del-num")).remove();
                    // 삭제할 id명들을 따로 보관
                    ar.push(ck[i].getAttribute("data-del-num"));
                };   
            };
                
            // 보관된 id를 꺼내서 삭제하는 코드,    
            // 배열에 집어넣는 코드 -> 왜 집어넣어야 하냐 ? ->
            for(let i=0; i<ar.length; i++) {
                document.getElementById(ar[i]).remove();
            };            
        });

        
        
    </script>
</body>
</html>